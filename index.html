<!doctype html>

<html>

  <head>
    <meta charset="utf-8">
    <title>WASM math test</title>
  </head>

  <body>
    <center>
      <h1>
        WASM Math Test
      </h1>
      <input type="number" id="inputNumber" />
      <BUTTON onclick="mather()">Calculate</BUTTON>
      <h3>
        Square: <span id="squarer"></span>
      </h3>
      <h3>
        Cube: <span id="cuber"></span>
      </h3>
    </center>
    <script>
      function mather() {
        let inputNumber = document.getElementById("inputNumber").value;
        console.warn(inputNumber);
        WebAssembly.instantiateStreaming(fetch('math_test.wasm'))
        .then(obj => {
          document.getElementById("squarer").innerHTML = obj.instance.exports.squarer(inputNumber);
          document.getElementById("cuber").innerHTML = obj.instance.exports.cuber(inputNumber);
          console.log(obj);
          console.log("Squarer: ", obj.instance.exports.squarer(inputNumber));
          console.log("Cuber: ", obj.instance.exports.cuber(inputNumber));
        });
      }
    </script>
  </body>

</html>